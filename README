A rewrite of redroid in C
